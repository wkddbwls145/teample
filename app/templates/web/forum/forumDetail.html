<!DOCTYPE html>
<html lang="en">

<head>

  <!-- Basic Page Needs
================================================== -->
  <meta charset="utf-8">
  <title>PPUPA</title>


  <!-- Mobile Specific Metas
================================================== -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="Construction Html5 Template">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
  <meta name=author content="Themefisher">
  <meta name=generator content="Themefisher Constra HTML Template v1.0">

  <!-- Favicon
================================================== -->
  <link rel="icon" type="image/png" href="static/images/favicon.png">

  <!-- CSS
================================================== -->
  <!-- Bootstrap -->
  <!-- <link rel="stylesheet" href="plugins/bootstrap/bootstrap.min.css"> -->
  <link rel="stylesheet" href="static/plugins/bootstrap/bootstrap.min.css" <!-- FontAwesome -->
  <link rel="stylesheet" href="static/plugins/fontawesome/css/all.min.css">
  <!-- Animation -->
  <link rel="stylesheet" href="static/plugins/animate-css/animate.css">
  <!-- slick Carousel -->
  <link rel="stylesheet" href="static/plugins/slick/slick.css">
  <link rel="stylesheet" href="static/plugins/slick/slick-theme.css">
  <!-- Colorbox -->
  <link rel="stylesheet" href="static/plugins/colorbox/colorbox.css">
  <!-- Template styles-->
  <link rel="stylesheet" href="static/css/style.css">

  <!-- command 추가 -->
  <!--
  <link rel="stylesheet" href="static/css/pyscript.css" />
  <link rel="stylesheet" href="static/css/repl.css" />
  <script defer src="static/js/pyscript.js"></script>
  -->
  		<style>
			.jb-text {
				position: absolute;
				top: 0px;
				width: 100%;
				height: 100%;
			}
			.jb-text-table {
				display: table;
				width: 100%;
				height: 100%;
			}
			.jb-text-table-row {
				display: table-row;
			}
			.jb-text-table-cell {
				display: table-cell;
				vertical-align: middle;
			}
			.jb-text p {
				margin: 0px 40px;
				padding: 10px;
				text-align: center;
        color:#FFFFFF;
        font-size: 70px;
			}

            .nameInput{
    width: 90%;
    margin: 10px auto;
}
.text {
    float: left;
    width:15%;
    box-sizing: border-box;
}
.input {
    border: 1px solid #000000;
    width:100%;
    box-sizing: border-box;
    height: 50px;
    border-radius: 5px;
}
		</style>
</head>

<body>
  <div class="body-inner">
    <header id="header" class="header-one">
      <div class="bg-white">
        <div class="container">
          <div class="logo-area">
            <div class="row align-items-center">
              <div class="logo col-lg-12 text-center mb-3 mb-md-5 mb-lg-0">
                <a href="/">
                  <img loading="lazy" src="/static/images/logo.png">
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="site-navigation">
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              <nav class="navbar navbar-expand-lg navbar-dark p-0">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".navbar-collapse"
                  aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"></span>
                </button>
                <div id="navbar-collapse" class="collapse navbar-collapse">
                  <ul class="nav navbar-nav mr-auto">
                    <li class="nav-item"><a class="nav-link" href="/">홈</a></li>
                    <li class="nav-item dropdown">
                      <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">학습 메뉴<i
                          class="fa fa-angle-down"></i></a>
                      <ul class="dropdown-menu" role="menu">
                        <li><a href="edu001">1.코랩사용법</a></li>
                        <li><a href="edu002">2.출력함수 print사용법</a></li>
                        <li><a href="edu003">3.변수(variables)개념</a></li>
                        <li><a href="edu004">4.입력함수 input사용법</a></li>
                        <li><a href="edu005">5.연산자(operators) 사용법</a></li>
                        <li><a href="edu006">6.연습문제-EchoBot만들기</a></li>
                        <li><a href="edu007">7.들여쓰기(indentation),주석(commnet)</a></li>
                        <li><a href="edu008">8.조건문 if문</a></li>
                        <li><a href="edu009">9.자료형기초</a></li>
                        <li><a href="edu010">10.반복문 while문</a></li>
                        <li><a href="edu011">11.반복문 for문</a></li>
                        <li><a href="edu012">12.특별한키워드: break, continue, pass</a></li>
                        <li><a href="edu013">13.문자열 자료형(기초)</a></li>
                        <li><a href="edu014">14.EchoBot-2(간단한 챗봇 파이썬 코드)</a></li>
                        <li><a href="edu015">15.함수(function) 내장함수, 외장함수</a></li>
                        <li><a href="edu016">16.사용자 정의 함수</a></li>
                        <li><a href="edu017">17.DocString(닥스트링)</a></li>
                        <li><a href="edu018">18.함수로 챗봇 구현 예제</a></li>
                      </ul>
                    </li>
                    <li class="nav-item dropdown">
                      <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">테스트 메뉴<i
                          class="fa fa-angle-down"></i></a>
                      <ul class="dropdown-menu" role="menu">
                        <li><a href="quizForm">테스트</a></li>
                        <li><a href="resultIntro">결과확인</a></li>
                      </ul>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="forumList">개발자 포럼</a></li>
                  </ul>
                </div>
              </nav>
            </div>
          </div>

          <div class="search-block" style="display: none;">
            <label for="search-field" class="w-100 mb-0">
              <input type="text" class="form-control" id="search-field" placeholder="Type what you want and enter">
            </label>
            <span class="search-close">&times;</span>
          </div>
        </div>
      </div>
    </header>

    <div id="banner-area" class="banner-area" style="background-image:url(static/images/banner/banner1.jpg)">
      <div class="banner-text">
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              <div class="banner-heading">
                <h1 class="banner-title">개발자 포럼 상세</h1>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <section id="main-container" class="main-container">
      <div class="container">
        <div>
          <h2>{{result.SJ}}</h2>
        </div>
        <div>
        <a> 작성자: {{result.NAME}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        <a> 등록일: {{result.REG_YMD}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        <a> 조회수: {{result.HIT_CNT}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
        <hr class="one">
        <div style="height: 300px;">
          {{result.CNTS}}
        </div>
      <!--
        <div class="row">
          <div class="nameInput col-md-12" style="display: inline-block;">
            <label class="text">제목 </label>
            <input class="input" type="text" id="name" name="name" value="{{result.SJ}}" readonly/>
          </div>
        </div>
        <div class="row">
          <div class="nameInput col-md-12" style="display: inline-block;">
            <label class="text">본문 </label>
            <textarea class ="input" style="height: 300px;" readonly>{{result.CNTS}}</textarea>
          </div>
        </div>
        -->
         <!-- 버튼영역 -->
      <div class="row">
          <div>
            <a href="/forumList" class="slider btn btn-primary" id="levelTestButton">목록</a>
          </div>
          <div style="margin-left: auto;">
            <a href="#pop_info_1"  class="slider btn btn-primary btn_open">수정</a>
            <a href="#pop_info_2"  class="slider btn btn-primary btn_open">삭제</a>
          </div>
        </div>
      </div>
      <!-- 수정하시겠습니까? 팝업 -->
      <div id="pop_info_1" class="pop_wrap" style="display:none;">
            <div class="pop_inner">
                <h3>수정하시겠습니까?</h3>
                <div class="nameInput">
                  <label class="text">이름 </label>
                  <input class="input" type="text" id="update_name" required/>
                </div>
                <div class="nameInput">
                  <label class="text">비밀번호 </label>
                  <input class="input" type="password" id="update_pwd" required/>
                </div>
                <!--버튼영역 -->
                  <div style="text-align: center; width:100%;">
                    <a onclick="clickUpdate('/forumUpdateForm' ,{{result.SEQ}})" class="slider btn-primary btn" style="display: inline-block;">수정</a>
                    <a href="#" class="slider btn btn-primary btn_close" style="display: inline-block;" id="pop_btn_close">취소</a>
                  </div>
              </div>
          </div>
          <!-- 삭제하시겠습니까? 팝업-->
          <div id="pop_info_2" class="pop_wrap" style="display:none;">
            <div class="pop_inner">
                <h3>삭제하시겠습니까?</h3>
                <div class="nameInput">
                  <label class="text">이름 </label>
                  <input class="input" type="text" id="delete_name" required/>
                </div>
                <div class="nameInput">
                  <label class="text">비밀번호 </label>
                  <input class="input" type="password" id="delete_pwd" required/>
                </div>
                <!--버튼영역 -->
                  <div style="text-align: center; width:100%;">
                    <a onclick="clickDelete('/forumDelete', {{result.SEQ}})" class="slider btn-primary btn" style="display: inline-block;">삭제</a>
                    <a href="#" class="slider btn btn-primary btn_close" style="display: inline-block;" id="pop_btn_close">취소</a>
                  </div>
              </div>
          </div>
    </section>

    <section id="main-container" class="main-container">
      <div class="container">
      <!--
      <div style="float:left; width:100%;">
        <div class="col-md-10"><textarea style="width:90%;"></textarea></div>
        <div class="col-md-2"><a href="#" class="slider btn-primary btn" style="margin-left:10px">댓글등록</a></div>
      </div>
    -->
      <div class="row" style="margin-left:1px; margin-bottom:20px;">
        <textarea style="width:86%; heigth:50px;" id="reply"></textarea>
          <a onclick="createReply('/forumCommentInsert', {{result.SEQ}})" class="slider btn btn-primary" style="margin-top:0px;">댓글등록</a>
      </div>
      {% for item in commentList%}
      <div style="border: 1px solid #000000; margin-bottom:5px; height:150px;">
        <div style="height: 5px; padding-top: 10px; padding-left: 10px;">
          <a> 익명 {{loop.index}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
          <a> 등록일: {{item.REG_YMD}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
          <hr>
          <div style="height: 100px; padding-left: 10px">
            {{item.CNTS}}
          </div>
        </div>
        {% endfor %}
        </div>
    </section>

    <footer id="footer" class="footer bg-overlay">
      <div class="copyright">
        <div class="container">
          <div class="row align-items-center">
            <div class="col-md-6">
              <div class="copyright-info">
                <span>Copyright &copy;
                  <script>
                    document.write(new Date().getFullYear())
                  </script>, Designed &amp; Developed by 10조 뿌파(뿌시자 파이썬)</a>
                </span>
              </div>
            </div>
          </div>

          <div id="back-to-top" data-spy="affix" data-offset-top="10" class="back-to-top position-fixed">
            <button class="btn btn-primary" title="Back to Top">
              <i class="fa fa-angle-double-up"></i>
            </button>
          </div>

        </div>
      </div>
    </footer>


    <!-- Javascript Files
  ================================================== -->

    <!-- initialize jQuery Library -->
    <script src="static/plugins/jQuery/jquery.min.js"></script>
    <!-- Bootstrap jQuery -->
    <script src="static/plugins/bootstrap/bootstrap.min.js" defer></script>
    <!-- Slick Carousel -->
    <script src="static/plugins/slick/slick.min.js"></script>
    <script src="static/plugins/slick/slick-animation.min.js"></script>
    <!-- Color box -->
    <script src="static/plugins/colorbox/jquery.colorbox.js"></script>
    <!-- shuffle -->
    <script src="static/plugins/shuffle/shuffle.min.js" defer></script>


    <!-- Google Map API Key-->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCcABaamniA6OL5YvYSpB3pFMNrXwXnLwU" defer></script>
    <!-- Google Map Plugin-->
    <script src="static/plugins/google-map/map.js" defer></script>

    <!-- Template custom -->
    <script src="static/js/script.js"></script>

  </div><!-- Body inner end -->
  <style>
    *{margin:0; padding:0;}
a{text-decoration:none;}
.wrap{padding:10px;}

.pop_wrap{position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,.5); font-size:0; text-align:center;}
.pop_wrap:after{display:inline-block; height:100%; vertical-align:middle; content:'';}
.pop_wrap .pop_inner{display:inline-block; padding:20px 30px; background:#fff; width:400px; vertical-align:middle; font-size:15px;}
  
        .nameInput{
    width: 90%;
    margin: 10px auto;
}
.text {
    float: left;
    width:30%;
    box-sizing: border-box;
}
.input {
    border: 1px solid #000000;
    width:70%;
    box-sizing: border-box;
    height: 50px;
    border-radius: 5px;
}
  </style>
  <script>
    var target = document.querySelectorAll('.btn_open');
var btnPopClose = document.querySelectorAll('#pop_btn_close');
var targetID;

// 팝업 열기
for(var i = 0; i < target.length; i++){
  target[i].addEventListener('click', function(){
    targetID = this.getAttribute('href');
    document.querySelector(targetID).style.display = 'block';
  });
}

// 팝업 닫기
for(var j = 0; j < target.length; j++){
  btnPopClose[j].addEventListener('click', function(){
    this.parentNode.parentNode.parentNode.style.display = 'none';
  });
}

function clickUpdate(path, seq){
  var updateName = document.getElementById("update_name").value;
  var updatePwd = document.getElementById("update_pwd").value;

  data = {'seq' : seq, 'name' : updateName, 'pwd' : updatePwd };

  $.ajax({
      type:'POST',
      contentType: 'application/json',
      url:'/selectForumExistYnAjax',
      data:JSON.stringify(data),
      dataType: 'JSON',
      success: function(response){
        console.log(response)
        if(response.resultYn == 'N'){
          alert('일치하지 않는 정보입니다.');
          return;
        }else{
          post(path, {seq: seq});
        }
      },
      error : function(xtr, status, error){
        alert(xtr +":"+status+":"+error);
      }
  });
};

function clickDelete(path, seq){
  var deleteName = document.getElementById("delete_name").value;
  var deletePwd = document.getElementById("delete_pwd").value;

  data = {'seq' : seq, 'name' : deleteName, 'pwd' : deletePwd };

  $.ajax({
      type:'POST',
      contentType: 'application/json',
      url:'/selectForumExistYnAjax',
      data:JSON.stringify(data),
      dataType: 'JSON',
      success: function(response){
        console.log(response)
        if(response.resultYn == 'N'){
          alert('일치하지 않는 정보입니다.');
          return;
        }else{
          if(confirm("삭제하시겠습니까?")){
            post(path, {seq: seq, name:deleteName, pwd: deletePwd});
          }
        }
      },
      error : function(xtr, status, error){
        alert(xtr +":"+status+":"+error);
      }
  });
}

function createReply(path, seq){
  var comment = document.getElementById("reply").value;
  console.log("commnet",comment);
  post(path, {seq: seq, cnts: comment})
}

function post(path, params, method='post') {
  const form = document.createElement('form');
  form.method = method;
  form.action = path;
  for (const key in params) {
    if (params.hasOwnProperty(key)) {
      const hiddenField = document.createElement('input');
      hiddenField.type = 'hidden';
      hiddenField.name = key;
      hiddenField.value = params[key];
      form.appendChild(hiddenField);
    }
  }
  document.body.appendChild(form);
  form.submit();
}
  </script>
</body>

</html>